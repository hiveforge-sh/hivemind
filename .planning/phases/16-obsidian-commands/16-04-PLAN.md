---
phase: 16-obsidian-commands
plan: 04
type: execute
wave: 4
depends_on: ["16-03"]
files_modified:
  - obsidian-plugin/main.ts
autonomous: false

must_haves:
  truths:
    - "All Hivemind commands appear in command palette with 'Hivemind:' prefix"
    - "Add frontmatter preview modal works for exact, ambiguous, and no-match cases"
    - "Validate shows toast for valid files and detailed modal for invalid files"
    - "Fix modal shows editable fields with generated defaults"
    - "Sidebar panel displays vault-wide validation results"
    - "Settings tab controls command behavior"
  artifacts:
    - path: "obsidian-plugin/main.ts"
      provides: "Complete Obsidian command integration"
  key_links:
    - from: "command palette"
      to: "all Hivemind commands"
      via: "addCommand registrations"
      pattern: "addCommand.*hivemind"
---

<objective>
Human verification of all Obsidian commands working end-to-end in a real vault.

Purpose: Confirm all Phase 16 features work correctly in Obsidian before marking milestone complete.
Output: Verified working commands or list of issues to fix.
</objective>

<execution_context>
@C:\Users\Preston\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Preston\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@obsidian-plugin/main.ts
@.planning/phases/16-obsidian-commands/16-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete Obsidian command palette integration: Add frontmatter (with preview modal), Validate (toast + issues modal), Fix (editable fields modal), validation sidebar panel, folder context menus, and settings tab.</what-built>
  <how-to-verify>
1. Build the plugin: `cd obsidian-plugin && npm run build`
2. Copy built files to your Obsidian vault's `.obsidian/plugins/hivemind/` folder
3. Reload Obsidian (Ctrl+R) and enable the Hivemind plugin

**Test Add Frontmatter:**
4. Open a markdown file without frontmatter
5. Ctrl+P → "Hivemind: Add frontmatter"
6. Verify: Preview modal shows with detected type and fields to add
7. Click "Apply" → frontmatter inserted into file
8. Try on file in ambiguous folder → type selection modal appears first

**Test Validate:**
9. Open a file WITH valid frontmatter
10. Ctrl+P → "Hivemind: Validate" → brief toast "Valid frontmatter ✓"
11. Open a file with missing required fields
12. Ctrl+P → "Hivemind: Validate" → modal shows specific issues

**Test Fix:**
13. Open a file with partial frontmatter (missing some fields)
14. Ctrl+P → "Hivemind: Fix" → modal with editable fields
15. Edit a generated ID value, click "Apply All"
16. Verify fields were added with your edited values

**Test Sidebar:**
17. Ctrl+P → "Hivemind: Open validation panel"
18. Verify sidebar shows with validation results
19. Click a file with issues → navigates to that file

**Test Context Menus:**
20. Right-click a markdown file → "Hivemind: Add frontmatter" and "Hivemind: Validate" appear
21. Right-click a folder → "Hivemind: Fix all in folder" appears

**Test Settings:**
22. Open Settings → Hivemind → verify Frontmatter Commands section
23. Toggle "Auto-merge frontmatter" ON
24. Run Add frontmatter on a file → should apply without preview modal
  </how-to-verify>
  <resume-signal>Type "approved" if all commands work correctly, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
All Obsidian commands work in real vault environment. User has confirmed each feature.
</verification>

<success_criteria>
- All 7 OBSD requirements verified working
- No crashes or errors during normal use
- UI feels native to Obsidian
</success_criteria>

<output>
After completion, create `.planning/phases/16-obsidian-commands/16-04-SUMMARY.md`
</output>
