---
phase: 12-setup-wizard
plan: 04
type: execute
wave: 4
depends_on: ["12-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User completes interactive wizard in under 2 minutes"
    - "Vault path validation rejects invalid paths immediately"
    - "Template selection shows categories and descriptions"
    - "Auto-detection suggests template when folders match"
    - "Claude Desktop config snippet is displayed and copyable"
    - "Non-interactive mode works with preset and flags"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete setup wizard works end-to-end in both interactive and non-interactive modes.

Purpose: Human verification ensures the wizard meets UX requirements and handles edge cases.
Output: Confirmed working wizard ready for users.
</objective>

<execution_context>
@C:\Users\Preston\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Preston\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/12-setup-wizard/12-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete setup wizard with interactive prompts, auto-detection, config generation, and Claude Desktop snippet output</what-built>
  <how-to-verify>
**Build and test:**

1. Build the project:
   ```
   npm run build
   ```

2. **Test interactive mode** - Run in a test directory:
   ```
   mkdir test-wizard && cd test-wizard
   node ../dist/cli.js init
   ```

   Verify:
   - [ ] Wizard displays title and progress breadcrumb
   - [ ] Vault path prompt appears with validation
   - [ ] Invalid path shows error and re-prompts
   - [ ] Template selection shows categories (Creative, Professional, Technical, Research, Custom)
   - [ ] Arrow keys change description preview below the list
   - [ ] Selection works with Enter
   - [ ] config.json is created with correct content
   - [ ] Claude Desktop snippet is displayed
   - [ ] Clipboard copy prompt appears
   - [ ] Ctrl+C exits gracefully with message

3. **Test auto-detection** - Use a vault with worldbuilding folders:
   ```
   mkdir -p test-vault/Characters test-vault/Locations
   node dist/cli.js init
   # Enter test-vault path when prompted
   ```

   Verify:
   - [ ] "Detected: worldbuilding template" message appears
   - [ ] Shows matched folders and confidence
   - [ ] Confirmation prompt asks to use detected template
   - [ ] Declining falls through to manual selection

4. **Test non-interactive mode with preset:**
   ```
   echo '{"vault":{"path":"./test-vault"},"templateId":"research"}' > preset.json
   node dist/cli.js init --config preset.json
   ```

   Verify:
   - [ ] No prompts appear
   - [ ] config.json created with research template
   - [ ] Next steps displayed

5. **Test non-interactive mode with flags:**
   ```
   node dist/cli.js init --vault ./test-vault --template people-management --yes
   ```

   Verify:
   - [ ] No prompts appear
   - [ ] config.json created with people-management template

6. **Test error handling:**
   - [ ] `node dist/cli.js init --vault /nonexistent` shows "Path does not exist"
   - [ ] Running in non-TTY (pipe): `echo "" | node dist/cli.js init` shows TTY error
   - [ ] Running without config: `node dist/cli.js start` shows clear missing config error

7. **Clean up:**
   ```
   rm -rf test-wizard test-vault preset.json
   ```
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
Human verification confirms:
1. Interactive wizard works with good UX
2. Auto-detection suggests correct template
3. Non-interactive modes work for CI/automation
4. Error messages are clear and helpful
</verification>

<success_criteria>
All verification checks pass:
- Interactive mode completes in under 2 minutes
- Validation provides immediate feedback
- Template selection shows descriptions
- Auto-detection works with folder patterns
- Claude Desktop snippet displayed and copyable
- Non-interactive modes work
- Error handling is clear
</success_criteria>

<output>
After completion, create `.planning/phases/12-setup-wizard/12-04-SUMMARY.md`
</output>
